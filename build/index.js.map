{"version":3,"file":"index.js","mappings":"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","sources":["webpack://fictional-university-theme/./src/componants/class-activity/archive-class-activity.js","webpack://fictional-university-theme/./src/componants/class-activity/single-class-activity.js","webpack://fictional-university-theme/./src/componants/done-button.js","webpack://fictional-university-theme/./src/componants/done-post-manager.js","webpack://fictional-university-theme/./src/componants/exercise/archive-exercise.js","webpack://fictional-university-theme/./src/componants/exercise/single-exercise.js","webpack://fictional-university-theme/./src/componants/loader.js","webpack://fictional-university-theme/./src/componants/popup-login-redirect.js","webpack://fictional-university-theme/./src/componants/save-button.js","webpack://fictional-university-theme/./src/componants/saved-post-manager.js","webpack://fictional-university-theme/./src/componants/share-link.js","webpack://fictional-university-theme/./css/styles.scss?2694","webpack://fictional-university-theme/webpack/bootstrap","webpack://fictional-university-theme/webpack/runtime/define property getters","webpack://fictional-university-theme/webpack/runtime/hasOwnProperty shorthand","webpack://fictional-university-theme/webpack/runtime/make namespace object","webpack://fictional-university-theme/./src/index.js"],"sourcesContent":["import SavedButton from \"../save-button\";\r\nimport SavedPostManager from \"../saved-post-manager\";\r\nimport PopupLoginRedirect from \"../popup-login-redirect\";\r\nimport Loader from \"../loader\";\r\n\r\nclass ClassActivityArchive {\r\n  //INITIATE AND DEFINE ARCHIVE\r\n  constructor() {\r\n    this.resultsContainer = document.querySelector(\"#class-activity-archive-container\");\r\n    this.pageLanguage = document.documentElement.lang.substring(0, 2);\r\n    this.attachEventListeners();\r\n    this.savedPostManager = new SavedPostManager();\r\n    this.fetchAndDisplayActivityData(); // Fetch and display initial data\r\n    this.loginPopup = new PopupLoginRedirect();\r\n  }\r\n\r\n  //ALL EVENTS\r\n\r\n  // for DOM purposes i delegate to validate-checkbox\r\n  attachEventListeners() {\r\n    this.resultsContainer.addEventListener(\"click\", (event) => {\r\n      const saveEvent = event.target.closest(\".label-pf__checkbox\");\r\n\r\n      if (saveEvent) {\r\n        const activityItem = saveEvent.closest(\".class-activity-post-item\");\r\n        const titleEvent = activityItem.querySelector(\".title-text\");\r\n        console.log(titleEvent);\r\n\r\n        this.handleClickSaved(saveEvent, titleEvent);\r\n      }\r\n    });\r\n    // Level options\r\n    this.selectedLevel = null;\r\n    this.levelFilter = document.querySelector(\"#level-options\");\r\n    this.levelFilter.addEventListener(\"change\", (e) => {\r\n      this.selectedLevel = e.target.value;\r\n      this.handleFilterChange();\r\n    });\r\n\r\n    // Search event\r\n    this.searchInput = document.querySelector(\"#searchInput\");\r\n    this.clearSearchButton = document.querySelector(\"#clearSearch\");\r\n\r\n    this.searchInput.addEventListener(\"input\", (event) => {\r\n      if (this.searchInput.value !== \"\") {\r\n        this.clearSearchButton.classList.remove(\"hide\");\r\n      } else {\r\n        this.clearSearchButton.classList.add(\"hide\");\r\n      }\r\n      this.searchTerm = event.target.value.toLowerCase();\r\n      this.handleSearch();\r\n    });\r\n    this.clearSearchButton.addEventListener(\"click\", () => {\r\n      this.searchInput.value = \"\";\r\n      this.searchTerm = \"\";\r\n      this.clearSearchButton.classList.add(\"hide\");\r\n      this.searchInput.focus();\r\n      this.handleFilterChange();\r\n    });\r\n\r\n    // Only saved event\r\n    this.isOnlySaved = false;\r\n    this.isOnlySavedCheckbox = document.querySelector(\"#only-saved\");\r\n    this.isOnlySavedCheckbox.addEventListener(\"change\", () => {\r\n      if (!user_status.logged_in) {\r\n        this.loginPopup.show();\r\n        return;\r\n      }\r\n      if (this.isOnlySavedCheckbox.checked) {\r\n        this.isOnlySaved = this.isOnlySavedCheckbox.checked;\r\n        this.handleFilterChange();\r\n      } else {\r\n        this.isOnlySaved = false;\r\n        this.handleFilterChange();\r\n      }\r\n    });\r\n\r\n    // Side bar filter\r\n    this.selectedCategories = [];\r\n    this.sideBarArchive = document.querySelectorAll(\"#side-bar-archive label\").forEach((label) => {\r\n      label.addEventListener(\"click\", (e) => {\r\n        const selectedCategory = e.currentTarget.id.toLowerCase();\r\n\r\n        if (e.target.checked) {\r\n          if (!this.selectedCategories.includes(selectedCategory)) {\r\n            this.selectedCategories.push(selectedCategory);\r\n          }\r\n        } else {\r\n          const index = this.selectedCategories.indexOf(selectedCategory);\r\n          if (index > -1) {\r\n            this.selectedCategories.splice(index, 1);\r\n          }\r\n        }\r\n\r\n        this.handleFilterChange();\r\n      });\r\n    });\r\n  }\r\n\r\n  handleClickSaved(saveButtonData, titleEvent) {\r\n    const postItemID = saveButtonData.id.replace(\"_save\", \"\");\r\n    const title = \"(Activity) \" + titleEvent.innerText;\r\n\r\n    if (saveButtonData.checked) {\r\n      this.savedPostManager.createSavedPost(postItemID, saveButtonData, title);\r\n    } else {\r\n      this.savedPostManager.deleteSavedPost(saveButtonData.getAttribute(\"saved-id\"), saveButtonData);\r\n    }\r\n  }\r\n\r\n  //ALL METHODS\r\n  displayLoader() {\r\n    this.resultsContainer.innerHTML = Loader.getLoader();\r\n  }\r\n\r\n  async fetchAndDisplayActivityData() {\r\n    await this.fetchActivityData();\r\n    this.displayActivityData(this.activityData);\r\n  }\r\n\r\n  async fetchActivityData() {\r\n    this.displayLoader();\r\n\r\n    let headers = {\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n\r\n    if (wpApiSettings && wpApiSettings.nonce) {\r\n      headers[\"X-WP-Nonce\"] = wpApiSettings.nonce;\r\n    }\r\n    try {\r\n      if (this.pageLanguage == \"pt\") this.pageLanguage = \"\";\r\n      const response = await fetch(`/wp-json/perfect-grammar/v1/activity/archive?lang=` + this.pageLanguage, {\r\n        method: \"GET\",\r\n        headers: headers,\r\n      });\r\n      if (!response.ok) throw new Error(\"Activity data not found\");\r\n      this.activityData = await response.json();\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // MAIN FILTER\r\n  // Handle filter change events\r\n  async handleFilterChange() {\r\n    await this.fetchActivityData();\r\n\r\n    const filteredData = this.getFilteredActivityData(\r\n      this.selectedLevel,\r\n      this.searchTerm,\r\n      this.isOnlySaved,\r\n      this.selectedCategories\r\n    );\r\n\r\n    this.displayActivityData(filteredData);\r\n  }\r\n\r\n  getFilteredActivityData(levelSelected = null, searchTerm = \"\", isOnlySaved, categorySelected = []) {\r\n    let filteredData = this.activityData;\r\n    if (levelSelected) {\r\n      filteredData = filteredData.filter((activity) => activity.level.includes(levelSelected));\r\n    }\r\n    if (searchTerm) {\r\n      filteredData = filteredData.filter((activity) => activity.title.toLowerCase().includes(searchTerm));\r\n    }\r\n    if (isOnlySaved) {\r\n      filteredData = filteredData.filter((activity) => activity.isSaved);\r\n    }\r\n\r\n    if (categorySelected.length) {\r\n      filteredData = filteredData.filter((activity) => {\r\n        return activity.category.some((category) => categorySelected.includes(category.toLowerCase()));\r\n      });\r\n    }\r\n\r\n    return filteredData;\r\n  }\r\n\r\n  handleSearch() {\r\n    let filteredData = this.activityData;\r\n    if (this.searchTerm) {\r\n      filteredData = filteredData.filter((activity) => activity.title.toLowerCase().includes(this.searchTerm));\r\n    }\r\n\r\n    this.displayActivityData(filteredData);\r\n  }\r\n\r\n  // main display of data\r\n  displayActivityData(activityData) {\r\n    if (!activityData || activityData.length === 0) {\r\n      this.resultsContainer.innerHTML = \"<p>Aucune activités trouvées</p>\";\r\n      return;\r\n    }\r\n    this.resultsContainer.innerHTML = activityData\r\n      .map(\r\n        ({ title, level, permalink, postId, estimatedTime, isSaved, savedId, category, tags }) => `\r\n        <a href=\"${permalink}\"><div class=\"class-activity-post-item\">\r\n                     <div class=\"class-activity-saved\">\r\n        \r\n                     ${SavedButton.getSavedButtonHTML(postId, isSaved, savedId)}\r\n                  \r\n                     </div>\r\n                     <span class=\"class-activity-entry-categories\">\r\n                              \r\n                                 ${category} </span>\r\n                              \r\n\r\n                     <h2 class=\"title-text\">${title}</h2>\r\n\r\n                     <div class=\"class-activity-entry-meta\">\r\n                              <span class=\"class-levels\">Niveau :\r\n                                       <span class=\"meta-item-levels\">${level}</span>\r\n                              </span>\r\n                     \r\n                     <div class=\"meta-item-estimated-time\"><span class=\"dashicons dashicons-clock\"></span> ${estimatedTime} minutes</div>\r\n                        \r\n                     </div>\r\n                     <ul class=\"grid-tags\">\r\n                           ${tags\r\n                             .map(\r\n                               (tag) =>\r\n                                 `<p class=\"tag-item\">\r\n                               ${tag}\r\n                             </p>`\r\n                             )\r\n                             .join(\"\")} \r\n                     </ul>\r\n                  </div>\r\n               \r\n  \r\n         </div></a>`\r\n      )\r\n      .join(\"\");\r\n  }\r\n}\r\n\r\nexport default ClassActivityArchive;\r\n","import SavedButton from \"../save-button\";\r\nimport SavedPostManager from \"../saved-post-manager\";\r\nimport ShareButton from \"../share-link\";\r\n\r\nclass SingleActivity {\r\n  constructor() {\r\n    this.activityContainer = document.getElementById(\"activity-container\");\r\n    this.pageLanguage = document.documentElement.lang.substring(0, 2);\r\n    this.randomButton = document.getElementById(\"random-activity-button\");\r\n    this.activityContainerSecond = document.getElementById(\"activity-container-second\");\r\n    this.shareButton = new ShareButton();\r\n\r\n    this.attachEventListeners();\r\n    // Get the activity ID from the data attribute on the container\r\n    this.activityId = this.activityContainer.dataset.activityId;\r\n    this.fetchExerciseData().then(this.displayExerciseData.bind(this));\r\n    this.savedPostManager = new SavedPostManager();\r\n  }\r\n\r\n  // ALL EVENTS HEREEE\r\n\r\n  // for DOM purposes i delegate to validate-checkbox\r\n  attachEventListeners() {\r\n    this.activityContainer.addEventListener(\"click\", (event) => {\r\n      const saveEvent = event.target.closest(\".label-pf__checkbox\");\r\n      if (saveEvent) {\r\n        this.handleClickSaved(saveEvent);\r\n      }\r\n    });\r\n\r\n    this.randomButton.addEventListener(\"click\", () => {\r\n      if (this.pageLanguage == \"pt\") this.pageLanguage = \"\";\r\n\r\n      window.location.href = \"/wp-json/perfect-grammar/v1/activity/random?lang=\" + this.pageLanguage;\r\n    });\r\n  }\r\n\r\n  handleClickSaved(saveButtonData) {\r\n    const postItemID = saveButtonData.id.replace(\"_save\", \"\");\r\n    const titleMetaTag = document.querySelector('meta[name=\"titleRaw\"]');\r\n    const title = titleMetaTag ? \"(Activity) \" + titleMetaTag.getAttribute(\"content\") : postItemID;\r\n\r\n    if (saveButtonData.checked) {\r\n      this.savedPostManager.createSavedPost(postItemID, saveButtonData, title);\r\n    } else {\r\n      this.savedPostManager.deleteSavedPost(saveButtonData.getAttribute(\"saved-id\"), saveButtonData);\r\n    }\r\n  }\r\n\r\n  //ALL METHODS\r\n\r\n  async fetchExerciseData() {\r\n    const nonce = wpApiSettings.nonce;\r\n    try {\r\n      const response = await fetch(`/wp-json/perfect-grammar/v1/activity/${this.activityId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"X-WP-Nonce\": nonce,\r\n        },\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Exercise not found\");\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error fetching activity data:\", error.message);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  displayExerciseData(activityData) {\r\n    if (!activityData) {\r\n      this.activityContainer.innerHTML = \"<p>Exercise not found</p>\";\r\n      return;\r\n    }\r\n\r\n    const { title, category, tags, level, estimatedTime, postId, isSaved, savedId, instructions } = activityData;\r\n    this.activityContainer.innerHTML = `\r\n       \r\n        <div class=\"title-banner hide-large\">\r\n        <h1 class=\"main-title-large\">${title}</h1>\r\n        </div>\r\n\r\n        <div class=\"top-activity\">\r\n        <div class=\"level-activity\">${level.join(\"/\")}</div>\r\n        \r\n        <div class=\"save-done-button\">\r\n        ${SavedButton.getSavedButtonHTML(postId, isSaved, savedId)} \r\n        </div>\r\n        </div>\r\n        <div class=\"title-banner hide-mobile\">\r\n        <h1 class=\"main-title-large \">${title}</h1>\r\n        </div>\r\n  \r\n        <div class=\"activity-instructions\">\r\n        <h2> Instruction professeurs </h2>\r\n        ${instructions}</div>\r\n\r\n        <div class=\"activity-meta\"> \r\n        <div class=\"estimated-time\"><span class=\"dashicons dashicons-clock\"></span> ${estimatedTime} minutes</div>\r\n        <div class=\"category\">${category}</div>\r\n        <div class=\"copy-link\">${this.shareButton}</div>\r\n        </div>\r\n\r\n\r\n\r\n         <div class=\"divider div-transparent div-dot\"></div>\r\n          \r\n      `;\r\n    this.activityContainerSecond.innerHTML = `\r\n       \r\n         \r\n      <ul class=\"grid-tags\">${tags.map((tag) => `<p class=\"tag-item\">${tag}</p>`).join(\"\")}</ul>\r\n        <div class=\"divider div-transparent div-dot\"></div>\r\n\r\n        <div class=\"actions-footer\">\r\n        <div class=\"copy-link\">${this.shareButton}</div>\r\n\r\n       <div class=\"\">\r\n        ${SavedButton.getSavedButtonHTML(postId, isSaved, savedId)} \r\n      </div>\r\n        \r\n        \r\n       </div>\r\n       </div>\r\n      `;\r\n  }\r\n}\r\n\r\nexport default SingleActivity;\r\n","class DoneButton {\r\n    static getDoneButtonHTML(postId, isDone, doneId) {\r\n        return `\r\n        <div class=\"done-checkbox-wrapper  exercise-item__done\">\r\n        <input type=\"checkbox\" id=\"${postId}_checkbox\" class=\"validate-checkbox\" ${\r\n            isDone ? 'checked' : ''\r\n        } doneid=\"${doneId}\" >\r\n        <label for=\"${postId}_checkbox\">\r\n        <div class=\"tick_mark\">\r\n         </label>\r\n            </div></div>\r\n        \r\n        `\r\n    }\r\n}\r\n\r\nexport default DoneButton\r\n","import PopupLoginRedirect from \"./popup-login-redirect\";\r\n\r\nclass DonePostManager {\r\n  constructor() {\r\n    this.loginPopup = new PopupLoginRedirect();\r\n  }\r\n\r\n  async createDonePost(postId, checkboxElement, title) {\r\n    if (!user_status.logged_in) {\r\n      this.loginPopup.show();\r\n      return;\r\n    }\r\n    const nonce = wpApiSettings.nonce;\r\n\r\n    const response = await fetch(\"/wp-json/wp/v2/done_post\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"X-WP-Nonce\": nonce,\r\n      },\r\n      body: JSON.stringify({\r\n        title: `Saved post : ${title}`,\r\n        status: \"publish\",\r\n        meta: { done_post_id: postId },\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) throw new Error(\"Error creating done post\");\r\n    const body = await response.json();\r\n    //  console.log(checkboxElement, body.id);\r\n    checkboxElement.setAttribute(\"doneId\", body.id);\r\n  }\r\n\r\n  async deleteDonePost(doneId, checkboxElement) {\r\n    if (!user_status.logged_in) {\r\n      this.loginPopup.show();\r\n      return;\r\n    }\r\n    const nonce = wpApiSettings.nonce;\r\n\r\n    const response = await fetch(`/wp-json/wp/v2/done_post/${doneId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"X-WP-Nonce\": nonce,\r\n      },\r\n    });\r\n    if (!response.ok) throw new Error(\"Error deleting done post\");\r\n    checkboxElement.removeAttribute(\"doneId\");\r\n  }\r\n}\r\n\r\nexport default DonePostManager;\r\n","import DoneButton from \"../done-button\";\r\nimport SavedButton from \"../save-button\";\r\nimport SavedPostManager from \"../saved-post-manager\";\r\nimport DonePostManager from \"../done-post-manager\";\r\nimport PopupLoginRedirect from \"../popup-login-redirect\";\r\nimport Loader from \"../loader\";\r\n\r\nclass ExercisesArchive {\r\n  //INITIATE AND DEFINE ARCHIVE\r\n  constructor() {\r\n    this.resultsContainer = document.querySelector(\"#exercises-archive-container\");\r\n    this.progressBar = document.getElementById(\"progress-bar\");\r\n    this.progressPercent = document.getElementById(\"progress-percent\");\r\n\r\n    this.pageLanguage = document.documentElement.lang.substring(0, 2);\r\n    this.attachEventListeners();\r\n    this.savedPostManager = new SavedPostManager();\r\n    this.donePostManager = new DonePostManager();\r\n    this.fetchAndDisplayExerciseData(); // Fetch and display initial data\r\n    this.loginPopup = new PopupLoginRedirect();\r\n  }\r\n\r\n  //ALL EVENTS\r\n\r\n  // for DOM purposes i delegate to validate-checkbox\r\n  attachEventListeners() {\r\n    this.resultsContainer.addEventListener(\"click\", (event) => {\r\n      const checkboxEvent = event.target.closest(\".validate-checkbox\");\r\n      if (checkboxEvent) {\r\n        const exerciseItem = checkboxEvent.closest(\".exercise-item\");\r\n        const titleEvent = exerciseItem.querySelector(\".title-text\");\r\n        const boxSelected = checkboxEvent.closest(\".exercise-item\");\r\n        this.handleClickDone(checkboxEvent, titleEvent, boxSelected);\r\n      }\r\n      const saveEvent = event.target.closest(\".label-pf__checkbox\");\r\n      if (saveEvent) {\r\n        const boxSelected = saveEvent.closest(\".exercise-item\");\r\n        const titleEvent = boxSelected.querySelector(\".title-text\");\r\n\r\n        this.handleClickSaved(saveEvent, titleEvent, boxSelected);\r\n      }\r\n    });\r\n    // Level options\r\n    this.selectedLevel = null;\r\n    this.levelFilter = document.querySelector(\"#level-options\");\r\n    this.levelFilter.addEventListener(\"change\", (e) => {\r\n      this.selectedLevel = e.target.value;\r\n      this.handleFilterChange();\r\n    });\r\n\r\n    // Search event\r\n    this.searchInput = document.querySelector(\"#searchInput\");\r\n    this.clearSearchButton = document.querySelector(\"#clearSearch\");\r\n\r\n    this.searchInput.addEventListener(\"input\", (event) => {\r\n      if (this.searchInput.value !== \"\") {\r\n        this.clearSearchButton.classList.remove(\"hide\");\r\n      } else {\r\n        this.clearSearchButton.classList.add(\"hide\");\r\n      }\r\n      this.searchTerm = event.target.value.toLowerCase();\r\n      this.handleSearch();\r\n    });\r\n    this.clearSearchButton.addEventListener(\"click\", () => {\r\n      this.searchInput.value = \"\";\r\n      this.searchTerm = \"\";\r\n      this.clearSearchButton.classList.add(\"hide\");\r\n      this.searchInput.focus();\r\n      this.handleFilterChange();\r\n    });\r\n\r\n    // Only saved event\r\n    this.isOnlySaved = false;\r\n    this.isOnlySavedCheckbox = document.querySelector(\"#only-saved\");\r\n    this.isOnlySavedCheckbox.addEventListener(\"change\", () => {\r\n      if (!user_status.logged_in) {\r\n        this.loginPopup.show();\r\n        return;\r\n      }\r\n      if (this.isOnlySavedCheckbox.checked) {\r\n        this.isOnlySaved = this.isOnlySavedCheckbox.checked;\r\n        this.handleFilterChange();\r\n      } else {\r\n        this.isOnlySaved = false;\r\n        this.handleFilterChange();\r\n      }\r\n    });\r\n\r\n    // Side bar filter\r\n    this.selectedCategories = [];\r\n    this.sideBarArchive = document.querySelectorAll(\"#side-bar-archive label\").forEach((label) => {\r\n      label.addEventListener(\"click\", (e) => {\r\n        const selectedCategory = e.currentTarget.id.toLowerCase();\r\n\r\n        if (e.target.checked) {\r\n          if (!this.selectedCategories.includes(selectedCategory)) {\r\n            this.selectedCategories.push(selectedCategory);\r\n          }\r\n        } else {\r\n          const index = this.selectedCategories.indexOf(selectedCategory);\r\n          if (index > -1) {\r\n            this.selectedCategories.splice(index, 1);\r\n          }\r\n        }\r\n\r\n        this.handleFilterChange();\r\n      });\r\n    });\r\n  }\r\n\r\n  handleClickDone(doneButtonData, titleEvent, boxSelected) {\r\n    const postItemID = doneButtonData.id.replace(\"_checkbox\", \"\");\r\n    const title = titleEvent.innerText;\r\n\r\n    // added Number() looks like ID is not a number?\r\n    const exerciseToUpdate = this.exerciseData.find((exercise) => exercise.postId === Number(postItemID));\r\n\r\n    if (doneButtonData.checked) {\r\n      this.donePostManager.createDonePost(postItemID, doneButtonData, title);\r\n      titleEvent.classList.add(\"strikethrough\");\r\n      boxSelected.classList.add(\"box-reduced-opacity\");\r\n      exerciseToUpdate.isDone = true;\r\n    } else {\r\n      this.donePostManager.deleteDonePost(doneButtonData.getAttribute(\"doneId\"), doneButtonData);\r\n      titleEvent.classList.remove(\"strikethrough\");\r\n      boxSelected.classList.remove(\"box-reduced-opacity\");\r\n      exerciseToUpdate.isDone = false;\r\n    }\r\n    if (this.progressBar) {\r\n      this.handleProgressBar();\r\n    }\r\n  }\r\n\r\n  handleClickSaved(saveButtonData, titleEvent, boxSelected) {\r\n    const title = titleEvent.innerText;\r\n    const postItemID = saveButtonData.id.replace(\"_save\", \"\");\r\n    if (saveButtonData.checked) {\r\n      this.savedPostManager.createSavedPost(postItemID, saveButtonData, title);\r\n      boxSelected.classList.add(\"box-highlight\");\r\n    } else {\r\n      this.savedPostManager.deleteSavedPost(saveButtonData.getAttribute(\"saved-id\"), saveButtonData);\r\n      boxSelected.classList.remove(\"box-highlight\");\r\n    }\r\n  }\r\n\r\n  //ALL METHODS\r\n  displayLoader() {\r\n    this.resultsContainer.innerHTML = Loader.getLoader();\r\n  }\r\n\r\n  async fetchAndDisplayExerciseData() {\r\n    await this.fetchExerciseData();\r\n    this.displayExerciseData(this.exerciseData);\r\n    this.handleFilterChange(this.exerciseData);\r\n  }\r\n\r\n  async fetchExerciseData() {\r\n    this.displayLoader();\r\n\r\n    try {\r\n      if (this.pageLanguage == \"pt\") this.pageLanguage = \"\";\r\n      const response = await fetch(`/wp-json/perfect-grammar/v1/exercise/archive?lang=` + this.pageLanguage, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"X-WP-Nonce\": wpApiSettings.nonce,\r\n        },\r\n      });\r\n      if (!response.ok) throw new Error(\"Exercise data not found\");\r\n      this.exerciseData = await response.json();\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // MAIN FILTER\r\n  // Handle filter change events\r\n  async handleFilterChange() {\r\n    await this.fetchExerciseData();\r\n\r\n    const filteredData = this.getFilteredExerciseData(\r\n      this.selectedLevel,\r\n      this.searchTerm,\r\n      this.isOnlySaved,\r\n      this.selectedCategories\r\n    );\r\n    if (this.progressBar) {\r\n      this.handleProgressBar();\r\n    }\r\n    this.displayExerciseData(filteredData);\r\n  }\r\n\r\n  getFilteredExerciseData(levelSelected = null, searchTerm = \"\", isOnlySaved, categorySelected = []) {\r\n    let filteredData = this.exerciseData;\r\n    if (levelSelected) {\r\n      filteredData = filteredData.filter((exercise) => exercise.level.includes(levelSelected));\r\n    }\r\n    if (searchTerm) {\r\n      filteredData = filteredData.filter((exercise) => exercise.title.toLowerCase().includes(searchTerm));\r\n    }\r\n    if (isOnlySaved) {\r\n      filteredData = filteredData.filter((exercise) => exercise.isSaved);\r\n    }\r\n\r\n    if (categorySelected.length) {\r\n      filteredData = filteredData.filter((exercise) => {\r\n        return exercise.category.some((category) => categorySelected.includes(category.toLowerCase()));\r\n      });\r\n    }\r\n    return filteredData;\r\n  }\r\n\r\n  handleSearch() {\r\n    let filteredData = this.exerciseData;\r\n    if (this.searchTerm) {\r\n      filteredData = filteredData.filter((exercise) => exercise.title.toLowerCase().includes(this.searchTerm));\r\n    }\r\n\r\n    this.displayExerciseData(filteredData);\r\n  }\r\n\r\n  handleProgressBar() {\r\n    if (this.exerciseData) {\r\n      const totalExercices = this.exerciseData.length;\r\n      const doneExercices = this.exerciseData.reduce((acc, exercise) => {\r\n        return exercise.isDone === true ? acc + 1 : acc;\r\n      }, 0);\r\n      this.progressPercent.innerHTML = `${doneExercices} / ${totalExercices}`;\r\n      const percentDone = (doneExercices / totalExercices) * 100;\r\n      this.progressBar.style.setProperty(\"--progress\", `${percentDone}%`);\r\n    }\r\n  }\r\n\r\n  // main display of data\r\n  displayExerciseData(exerciseData) {\r\n    if (!exerciseData || exerciseData.length === 0) {\r\n      this.resultsContainer.innerHTML = \"<p>Aucun exercices trouvés</p>\";\r\n      return;\r\n    }\r\n    this.resultsContainer.innerHTML = exerciseData\r\n      .map(\r\n        ({ title, level, permalink, postId, isDone, doneId, isSaved, savedId }) => `\r\n            <a href=\"${permalink}\"><div class=\"exercise-item ${isSaved ? \"box-highlight\" : \"\"} ${\r\n              isDone ? \"box-reduced-opacity\" : \"\"\r\n            }\">\r\n            <div class=\"exercise-item__level\">${level.join(\"/\")}</div>\r\n            <div class=\"exercise-item__title\">\r\n        <div id=\"title\" class=\"title-text ${isDone ? \"strikethrough\" : \"\"}\">${title}</div></div>\r\n  \r\n        ${SavedButton.getSavedButtonHTML(postId, isSaved, savedId)}\r\n        ${DoneButton.getDoneButtonHTML(postId, isDone, doneId)}\r\n         </div></a>`\r\n      )\r\n      .join(\"\");\r\n  }\r\n}\r\n\r\nexport default ExercisesArchive;\r\n","import DoneButton from \"../done-button\";\r\nimport SavedButton from \"../save-button\";\r\nimport SavedPostManager from \"../saved-post-manager\";\r\nimport DonePostManager from \"../done-post-manager\";\r\nimport ShareButton from \"../share-link\";\r\n\r\nclass SingleExercise {\r\n  constructor() {\r\n    this.exerciseContainer = document.getElementById(\"exercise-container\");\r\n    this.pageLanguage = document.documentElement.lang.substring(0, 2);\r\n    this.exerciseContainerSecond = document.getElementById(\"exercise-container-second\");\r\n    this.randomButton = document.getElementById(\"random-exercise-button\");\r\n\r\n    this.attachEventListeners();\r\n    // Get the exercise ID from the data attribute on the container\r\n    this.exerciseId = this.exerciseContainer.dataset.exerciseId;\r\n    this.fetchExerciseData().then(this.displayExerciseData.bind(this));\r\n    this.savedPostManager = new SavedPostManager();\r\n    this.donePostManager = new DonePostManager();\r\n  }\r\n\r\n  // ALL EVENTS HEREEE\r\n\r\n  // for DOM purposes i delegate to validate-checkbox\r\n  attachEventListeners() {\r\n    this.exerciseContainer.addEventListener(\"click\", (event) => {\r\n      const checkboxEvent = event.target.closest(\".validate-checkbox\");\r\n      if (checkboxEvent) {\r\n        this.handleClickDone(checkboxEvent);\r\n      }\r\n      const saveEvent = event.target.closest(\".label-pf__checkbox\");\r\n      if (saveEvent) {\r\n        this.handleClickSaved(saveEvent);\r\n      }\r\n    });\r\n\r\n    this.randomButton.addEventListener(\"click\", () => {\r\n      if (this.pageLanguage == \"pt\") this.pageLanguage = \"\";\r\n\r\n      window.location.href = \"/wp-json/perfect-grammar/v1/exercise/random?lang=\" + this.pageLanguage;\r\n    });\r\n  }\r\n\r\n  handleClickDone(doneButtonData) {\r\n    const postItemID = doneButtonData.id.replace(\"_checkbox\", \"\");\r\n    const titleMetaTag = document.querySelector('meta[name=\"titleRaw\"]');\r\n    const title = titleMetaTag ? titleMetaTag.getAttribute(\"content\") : postItemID;\r\n\r\n    if (doneButtonData.checked) {\r\n      this.donePostManager.createDonePost(postItemID, doneButtonData, title);\r\n      document.querySelector('.footer-done-button input[type=\"checkbox\"]').checked = true;\r\n    } else {\r\n      this.donePostManager.deleteDonePost(doneButtonData.getAttribute(\"doneId\"), doneButtonData);\r\n      document.querySelector('.footer-done-button input[type=\"checkbox\"]').checked = false;\r\n    }\r\n  }\r\n\r\n  handleClickSaved(saveButtonData) {\r\n    const postItemID = saveButtonData.id.replace(\"_save\", \"\");\r\n    const titleMetaTag = document.querySelector('meta[name=\"titleRaw\"]');\r\n    const title = titleMetaTag ? titleMetaTag.getAttribute(\"content\") : postItemID;\r\n    if (saveButtonData.checked) {\r\n      this.savedPostManager.createSavedPost(postItemID, saveButtonData, title);\r\n    } else {\r\n      this.savedPostManager.deleteSavedPost(saveButtonData.getAttribute(\"saved-id\"), saveButtonData);\r\n    }\r\n  }\r\n\r\n  //ALL METHODS\r\n\r\n  async fetchExerciseData() {\r\n    const nonce = wpApiSettings.nonce;\r\n    try {\r\n      const response = await fetch(`/wp-json/perfect-grammar/v1/exercise/${this.exerciseId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"X-WP-Nonce\": nonce,\r\n        },\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Exercise not found\");\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error fetching exercise data:\", error.message);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  displayExerciseData(exerciseData) {\r\n    if (!exerciseData) {\r\n      this.exerciseContainer.innerHTML = \"<p>Exercise not found</p>\";\r\n      return;\r\n    }\r\n\r\n    const { title, content, video, tags, level, postId, isSaved, savedId, isDone, doneId } = exerciseData;\r\n    this.exerciseContainer.innerHTML = `\r\n       \r\n\r\n          \r\n       \r\n        <div class=\"title-banner hide-large\">\r\n        <h1 class=\"main-title-large\">${title}</h1>\r\n        </div>\r\n        <div class=\"top-exercise\">\r\n        <div class=\"level-exercise\">${level.join(\"/\")}</div>\r\n        \r\n        <div class=\"save-done-button\">\r\n        ${SavedButton.getSavedButtonHTML(postId, isSaved, savedId)} \r\n        ${DoneButton.getDoneButtonHTML(postId, isDone, doneId)} \r\n        </div>\r\n        </div>\r\n        <div class=\"title-banner hide-mobile\">\r\n        <h1 class=\"main-title-large \">${title}</h1>\r\n        </div>\r\n\r\n          \r\n          <div class=\"exercise-video\">\r\n          <div class=\"exercise-video__wrapper\">${video}</div>  \r\n          </div>\r\n\r\n        \r\n       \r\n           <div class=\"exercise-explanations\">\r\n          <p class=\"exercise-explanations__title title-medium hide-mobile\">Les points importants ❤️</p>\r\n          <div class=\"key-info\">${content}</div>\r\n          </div>\r\n\r\n          <div class=\"exercise-meta\">\r\n          <ul class=\"grid-tags\">${tags.map((tag) => `<p class=\"tag-item\">${tag}</p>`).join(\"\")}</ul>\r\n\r\n            </div>\r\n            <div class=\"actions-footer\">\r\n      <div class=\"copy-link\"> ${new ShareButton()}</div>\r\n\r\n     <div class=\"\">\r\n      ${SavedButton.getSavedButtonHTML(postId, isSaved, savedId)} \r\n    </div>\r\n    </div>\r\n\r\n            <div class=\"divider div-transparent div-dot\"></div>\r\n\r\n          \r\n\r\n      `;\r\n\r\n    this.exerciseContainerSecond.innerHTML = `\r\n      <div class=\"divider div-transparent div-dot\"></div>\r\n      \r\n\r\n      <div class=\"footer-exercise\">\r\n      <p class=\"title-medium t-center\">${isDone ? \"Exercice déjà validé !\" : \"Valider l'exercice ?\"} </p>\r\n       <div class=\"footer-done-button\"> ${DoneButton.getDoneButtonHTML(postId, isDone, doneId)} </div>\r\n        </div>\r\n        </div>\r\n      `;\r\n  }\r\n}\r\n\r\nexport default SingleExercise;\r\n","class Loader {\r\n  static getLoader() {\r\n    return `<div class=\"loader-container\">\r\n    <div aria-label=\"Orange and tan hamster running in a metal wheel\" role=\"img\" class=\"wheel-and-hamster\">\r\n    <div class=\"wheel\"></div>\r\n    <div class=\"hamster\">\r\n      <div class=\"hamster__body\">\r\n        <div class=\"hamster__head\">\r\n          <div class=\"hamster__ear\"></div>\r\n          <div class=\"hamster__eye\"></div>\r\n          <div class=\"hamster__nose\"></div>\r\n        </div>\r\n        <div class=\"hamster__limb hamster__limb--fr\"></div>\r\n        <div class=\"hamster__limb hamster__limb--fl\"></div>\r\n        <div class=\"hamster__limb hamster__limb--br\"></div>\r\n        <div class=\"hamster__limb hamster__limb--bl\"></div>\r\n        <div class=\"hamster__tail\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"spoke\"></div>\r\n  </div></div>\r\n    `;\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","class PopupLoginRedirect {\r\n    constructor() {\r\n        this.loginPopup = this.createLoginPopup()\r\n        document.body.appendChild(this.loginPopup)\r\n        const closeButton = document.getElementById('closePopup-pf')\r\n        closeButton.addEventListener('click', this.hide.bind(this))\r\n    }\r\n\r\n    createLoginPopup() {\r\n        const loginPopup = document.createElement('div')\r\n        loginPopup.id = 'loginPopup-pf'\r\n        loginPopup.style.display = 'none'\r\n        loginPopup.innerHTML = `\r\n            <div>\r\n              <span id=\"closePopup-pf\">&times;</span>\r\n              <h2>Login Required</h2>\r\n              <p>Connecte-toi pour sauvegarder tes exercices</p>\r\n              <a href=\"/login\"><button id=\"loginButton-pf\" class=\"btn\">Login</button></a>\r\n            </div>\r\n          `\r\n        const closeButton = loginPopup.querySelector('#closePopup-pf')\r\n        closeButton.addEventListener('click', this.hide.bind(this))\r\n        return loginPopup\r\n    }\r\n\r\n    show() {\r\n        this.loginPopup.style.display = 'block'\r\n    }\r\n\r\n    hide() {\r\n        this.loginPopup.style.display = 'none'\r\n    }\r\n}\r\n\r\nexport default PopupLoginRedirect\r\n","class SavedButton {\r\n    static getSavedButtonHTML(postId, isSaved, savedId) {\r\n        return `\r\n        <div class=\"save-checkbox-wrapper exercise-item__save\"> <label class=\"label-pf\">       \r\n        <input  class=\"label-pf__checkbox\" type=\"checkbox\" id=\"${postId}_save\" ${\r\n            isSaved ? 'checked' : ''\r\n        } saved-id=\"${savedId}\"/>\r\n        <span class=\"label-pf__text\">\r\n          <span class=\"label-pf__check\"><svg class=\"save-icon\" \"id=\"save-icon\" data-name=\"Group 23\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15.33\" height=\"20.094\" viewBox=\"0 0 15.33 20.094\">\r\n          <path id=\"Path_52\" data-name=\"Path 52\" d=\"M517.434,385.807a1.63,1.63,0,0,1-.953-.311,1.77,1.77,0,0,1-.725-1.441c0-2.294-.04-10.739-.064-14.623a3.809,3.809,0,0,1,1.086-2.7,3.4,3.4,0,0,1,2.426-1.023h8.3a3.611,3.611,0,0,1,3.512,3.692c0,3.871,0,13.037-.023,14.533a1.771,1.771,0,0,1-.726,1.405,1.626,1.626,0,0,1-1.45.232.666.666,0,0,1-.219-.119c-2.072-1.694-4.38-3.529-5.179-4.095-.8.579-3.148,2.483-5.249,4.239a.669.669,0,0,1-.213.12A1.646,1.646,0,0,1,517.434,385.807Zm1.769-18.764a2.084,2.084,0,0,0-1.482.631,2.474,2.474,0,0,0-.7,1.751c.023,3.885.066,12.335.064,14.632a.426.426,0,0,0,.171.358.3.3,0,0,0,.186.061c5.458-4.561,5.7-4.556,5.985-4.555.273,0,.509.006,5.887,4.4h0a.3.3,0,0,0,.179-.061.427.427,0,0,0,.171-.348h0c.028-1.484.026-10.64.023-14.507a2.281,2.281,0,0,0-2.181-2.362Z\" transform=\"translate(-515.691 -365.713)\" stroke-width=\"2\"/>        </svg>\r\n          </span>\r\n        </span>\r\n      </label>\r\n    </div> `\r\n    }\r\n}\r\n\r\nexport default SavedButton\r\n","import PopupLoginRedirect from \"./popup-login-redirect\";\r\n\r\nclass SavedPostManager {\r\n  constructor() {\r\n    this.loginPopup = new PopupLoginRedirect();\r\n  }\r\n\r\n  async createSavedPost(postId, checkboxElement, title) {\r\n    if (!user_status.logged_in) {\r\n      this.loginPopup.show();\r\n      return;\r\n    }\r\n    const nonce = wpApiSettings.nonce;\r\n\r\n    const response = await fetch(\"/wp-json/wp/v2/saved_post\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"X-WP-Nonce\": nonce,\r\n      },\r\n      body: JSON.stringify({\r\n        title: `Saved post : ${title}`,\r\n        status: \"publish\",\r\n        meta: { saved_post_id: postId },\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) throw new Error(\"Error creating saved post\");\r\n    const body = await response.json();\r\n    //  console.log(checkboxElement, body.id);\r\n    checkboxElement.setAttribute(\"saved-id\", body.id);\r\n  }\r\n\r\n  async deleteSavedPost(savedId, checkboxElement) {\r\n    if (!user_status.logged_in) {\r\n      this.loginPopup.show();\r\n      return;\r\n    }\r\n    const nonce = wpApiSettings.nonce;\r\n\r\n    const response = await fetch(`/wp-json/wp/v2/saved_post/${savedId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"X-WP-Nonce\": nonce,\r\n      },\r\n    });\r\n    if (!response.ok) throw new Error(\"Error deleting saved post\");\r\n    checkboxElement.removeAttribute(\"saved-id\");\r\n  }\r\n}\r\n\r\nexport default SavedPostManager;\r\n","class ShareButton {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.button = document.createElement(\"button\");\r\n    this.button.className = \"share-button\";\r\n    this.button.innerHTML = `<span class=\"dashicons dashicons-admin-links\"></span> Partager le lien`;\r\n\r\n    const container = document.querySelector(\".single-container\");\r\n    if (container) {\r\n      container.appendChild(this.button);\r\n      container.addEventListener(\"click\", (event) => {\r\n        let target = event.target;\r\n\r\n        // Traverse up the DOM tree to find the closest button element\r\n        while (target !== null && target.nodeName !== \"BUTTON\") {\r\n          target = target.parentElement;\r\n        }\r\n\r\n        if (target && target.classList.contains(\"share-button\")) {\r\n          this.share(target);\r\n        }\r\n      });\r\n    } else {\r\n      console.error(\"Shared button container not found\");\r\n    }\r\n  }\r\n\r\n  share(target) {\r\n    const url = window.location.href;\r\n    const textarea = document.createElement(\"textarea\");\r\n\r\n    navigator.clipboard\r\n      .writeText(url)\r\n      .then(() => {\r\n        target.innerHTML = `<span class=\"dashicons dashicons-admin-links\"></span> Lien copié !`;\r\n      })\r\n      .catch((error) => {\r\n        alert(\"An error occurred: \" + error);\r\n      });\r\n  }\r\n\r\n  toString() {\r\n    return this.button.outerHTML;\r\n  }\r\n}\r\n\r\nexport default ShareButton;\r\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"../css/styles.scss\";\r\n\r\nimport ExercisesArchive from \"./componants/exercise/archive-exercise.js\";\r\nimport SingleExercise from \"./componants/exercise/single-exercise.js\";\r\nimport ClassActivityArchive from \"./componants/class-activity/archive-class-activity.js\";\r\nimport SingleActivity from \"./componants/class-activity/single-class-activity.js\";\r\n\r\n// Calls the ExecisesArchive if there is a #exercises-archive-container, is that GOOD ? or better to enqueue a file with php conditions?\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const archiveExercisesContainer = document.querySelector(\r\n    \"#exercises-archive-container\"\r\n  );\r\n  if (archiveExercisesContainer) {\r\n    const exercisesArchive = new ExercisesArchive();\r\n  }\r\n});\r\n\r\n// Same for SingleExercise\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const exerciseContainer = document.getElementById(\"exercise-container\");\r\n  if (exerciseContainer) {\r\n    const singleExercise = new SingleExercise();\r\n  }\r\n});\r\n\r\n// Same for ClassActivityArchive\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const archiveActivityContainer = document.querySelector(\r\n    \"#class-activity-archive-container\"\r\n  );\r\n  if (archiveActivityContainer) {\r\n    const classActivityArchive = new ClassActivityArchive();\r\n  }\r\n});\r\n\r\n// Same for SingleActivity\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const activityContainer = document.getElementById(\"activity-container\");\r\n  if (activityContainer) {\r\n    const singleActivity = new SingleActivity();\r\n  }\r\n});\r\n"],"names":["SavedButton","SavedPostManager","PopupLoginRedirect","Loader","ClassActivityArchive","constructor","resultsContainer","document","querySelector","pageLanguage","documentElement","lang","substring","attachEventListeners","savedPostManager","fetchAndDisplayActivityData","loginPopup","addEventListener","event","saveEvent","target","closest","activityItem","titleEvent","console","log","handleClickSaved","selectedLevel","levelFilter","e","value","handleFilterChange","searchInput","clearSearchButton","classList","remove","add","searchTerm","toLowerCase","handleSearch","focus","isOnlySaved","isOnlySavedCheckbox","user_status","logged_in","show","checked","selectedCategories","sideBarArchive","querySelectorAll","forEach","label","selectedCategory","currentTarget","id","includes","push","index","indexOf","splice","saveButtonData","postItemID","replace","title","innerText","createSavedPost","deleteSavedPost","getAttribute","displayLoader","innerHTML","getLoader","fetchActivityData","displayActivityData","activityData","headers","wpApiSettings","nonce","response","fetch","method","ok","Error","json","error","filteredData","getFilteredActivityData","levelSelected","categorySelected","filter","activity","level","isSaved","length","category","some","map","permalink","postId","estimatedTime","savedId","tags","getSavedButtonHTML","tag","join","ShareButton","SingleActivity","activityContainer","getElementById","randomButton","activityContainerSecond","shareButton","activityId","dataset","fetchExerciseData","then","displayExerciseData","bind","window","location","href","titleMetaTag","message","instructions","DoneButton","getDoneButtonHTML","isDone","doneId","DonePostManager","createDonePost","checkboxElement","body","JSON","stringify","status","meta","done_post_id","setAttribute","deleteDonePost","removeAttribute","ExercisesArchive","progressBar","progressPercent","donePostManager","fetchAndDisplayExerciseData","checkboxEvent","exerciseItem","boxSelected","handleClickDone","doneButtonData","exerciseToUpdate","exerciseData","find","exercise","Number","handleProgressBar","getFilteredExerciseData","totalExercices","doneExercices","reduce","acc","percentDone","style","setProperty","SingleExercise","exerciseContainer","exerciseContainerSecond","exerciseId","content","video","createLoginPopup","appendChild","closeButton","hide","createElement","display","saved_post_id","init","button","className","container","nodeName","parentElement","contains","share","url","textarea","navigator","clipboard","writeText","catch","alert","toString","outerHTML","archiveExercisesContainer","exercisesArchive","singleExercise","archiveActivityContainer","classActivityArchive","singleActivity"],"sourceRoot":""}